<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *  * -->
<!-- * * * * * * * * * * * JERSON GALVEZ ENSUNCHO * * * * * * * * * * * -->
<!-- ******* * * * * * * * PROYECTO CLINICSOFT * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
<p-toast position="top-right"/>
<div class="min-height-300 bg-default position-absolute w-100"></div>
<main class="main-content position-relative border-radius-lg">
  <app-cerrarsesion titulo="Historial Paciente"></app-cerrarsesion>
  <div class="container-fluid py-1">
    <div class="row">
      <div class="card">
        <div class="container-fluid mt-3">
          <div class="row">
            <div class="col-md-3">
                <div class="page-header">
                  <div class="d-flex align-items-lg-center">
                    <div class="flex-shrink-0">
                      <img class="avatar avatar-xl avatar-circle" src="https://htmlstream.com/preview/front-v4.2/html/assets/img/160x160/img9.jpg" alt="Image Description">
                    </div>
                    <div class="flex-grow-1 ms-4">
                      <div class="row">
                        <div class="col-lg mb-3 mb-lg-0">
                          <h4 class="page-header-title h6">{{ nombrepaciente }}</h4>
                          <ul class="list-inline list-separator">
                            <li class="list-inline-item">
                              <i class="bi-geo-alt-fill text-primary me-1"></i> {{ fechanacimiento }} - 30 a√±os
                            </li>
                            <li> <a class="text-danger" (click)="citas = true"> Nueva</a> - <a (click)="imprimirhistoriaclinica()" class="text-primary">Imprimir</a> </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <!--  -->
            <div class="card card-dashed h-900">
              <div class="card-header bg-default"><h6 class="text-white text-uppercase">Ultimos signos vitales</h6></div>
              <div class="card-body">
                <div class="row">
                    <div class="col-md-7">
                        <ul class="list-inline ">
                          <li><i class="fas fa-ruler-vertical mt-2 text-danger"></i> Estatura</li>
                          <li><i class="fas fa-weight text-dark mt-2"></i> Peso</li>
                          <li><i class="fas fa-child mt-2 text-warning"></i> Masa Corporal</li>
                          <li><i class="fas fa-thermometer mt-2 text-success"></i> Temperatura</li>
                          <li><i class="fas fa-diagnoses text-dark"></i> Frecu Respiratoria</li>
                          <li><i class="fas fa-heartbeat mt-2 text-danger"></i> Frecu Cardiaca</li>
                          <li><i class="fas fa-child mt-2 text-danger"></i> Porcentaje Grasa</li>
                        </ul>
                    </div>
                    <div class="col-md-5">
                        <ul class="list-inline ">
                            <li class="mt-1">{{ estatura }} Mts</li>
                            <li class="mt-0">{{ peso }} Kg</li>
                            <li class="mt-1">{{ masa_corporal }} IMC</li>
                            <li class="mt-0">{{ temperatura }} C</li>
                            <li class="mt-2">{{ frecuencia_respiratoria }} r/m</li>
                            <li class="mt-1">{{ frecuencia_cardiaca }} mmHg</li>
                            <li class="mt-0">{{ porcentaje_grasa }} %</li>
                          </ul>
                    </div>
                </div>
              </div>
            </div>
            <!--  -->
            <div class="card card-dashed h-200 mt-3">
              <div class="card-header bg-default"><h6 class="text-white text-uppercase">Archivos</h6></div>
              <div class="card-body">
                  <div class="row">
                    <div class="col-md-12">
                      <ul
                        class="list-inline"
                        *ngFor="let archivos of archivospdf"
                      >
                        <li>
                          <i class="fas fa-file-pdf mx-1 text-danger"></i>
                          <a
                            href="http://localhost:8000/archivospdf/{{ archivos.url_documento }}"
                            target="_blank"
                          >
                            {{ archivos.titulo }}
                          </a>
                         </li>
                        <small>1 mb | {{archivos.fecha}}</small>
                      </ul>

                      <button
                        class="btn btn-primary btn-xs"
                        (click)="archivos = true"
                      >
                        Subir archivo
                      </button>
                    </div>
                  </div>
              </div>
            </div>
             </div>
             <div class="col-md-6">
               <div class="card card-dashed h-200">
                 <div class="card-header bg-default"><h6 class="text-white text-uppercase">Procesos clinicos </h6></div> 
                   <div class="card-body">
                     <div class="accordion accordion-btn-icon-start" id="accordionBtnIconStartExample">
                       <div class="accordion-item">
                         <div class="accordion-header" id="btn-icon-start-headingOne">
                           <a class="accordion-button collapsed" role="button" data-bs-toggle="collapse" data-bs-target="#btn-icon-start-collapseOne" aria-expanded="true" aria-controls="btn-icon-start-collapseOne">
                             <span class="ps-1 text-dark text-bold"><i class="fas fa-mortar-pestle"></i> ALERGIAS </span>
                           </a>
                         </div>
      <div id="btn-icon-start-collapseOne" class="accordion-collapse collapse show" aria-labelledby="btn-icon-start-headingOne" data-bs-parent="#accordionBtnIconStartExample">
        <div class="accordion-body">
          <div class="alert alert-primary text-white" role="alert">
            <h6 class="alert-heading">Alergia a Medicamentos</h6>
            <ul class="list-inline ">
              <li></li>
            </ul>
            <hr>
            <h6 class="alert-heading">Otras Alergias</h6>
            <ul class="list-inline ">
              <li></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!-- <div class="accordion-item">
        <div class="accordion-header" id="btn-icon-start-headingThree">
          <a class="accordion-button collapsed" role="button" data-bs-toggle="collapse" data-bs-target="#btn-icon-start-collapseThree" aria-expanded="false" aria-controls="btn-icon-start-collapseThree">
              <span class="ps-1 text-dark text-bold"><i class="fas fa-utensils"></i> DIETA NUTRICIONAL</span>
          </a>
        </div>
        <div id="btn-icon-start-collapseThree" class="accordion-collapse collapse" aria-labelledby="btn-icon-start-headingThree" data-bs-parent="#accordionBtnIconStartExample">
          <div class="accordion-body">
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <thead>
                    <tr class="bg-dark text-white">
                      <th class="text-uppercase text-xs">Codigo</th>
                      <th class="text-uppercase text-xs">Descripcion de la dieta</th>
                    </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div> -->
      <div class="accordion-item">
        <div class="accordion-header" id="btn-icon-start-headingThree">
          <a class="accordion-button collapsed" role="button" data-bs-toggle="collapse" data-bs-target="#diagnosticos" aria-expanded="false" aria-controls="diagnosticos">
              <span class="ps-1 text-dark text-bold"><i class="fas fa-diagnoses"></i> DIAGNOSTICOS</span>
          </a>
        </div>
        <div id="diagnosticos" class="accordion-collapse collapse" aria-labelledby="btn-icon-start-headingThree" data-bs-parent="#accordionBtnIconStartExample">
          <div class="accordion-body">
            <!--PONER TABLA-->
            <div class="row">
              <div class="col-md-12">
                <div class="table-responsive">
                  <table class="table table-striped table-hover">
                    <thead>
                        <tr class="bg-dark text-white">
                          <th class="text-uppercase text-xs">codigo</th>
                          <th class="text-uppercase text-xs">Nombre Diagnostico</th>
                        </tr>
                    </thead>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" id="btn-icon-start-headingThree">
          <a class="accordion-button collapsed" role="button" data-bs-toggle="collapse" data-bs-target="#procedimientos" aria-expanded="false" aria-controls="procedimientos">
              <span class="ps-1 text-dark text-bold"><i class="fas fa-procedures"></i> PROCEDIMIENTOS</span>
          </a>
        </div>
        <div id="procedimientos" class="accordion-collapse collapse" aria-labelledby="btn-icon-start-headingThree" data-bs-parent="#accordionBtnIconStartExample">
          <div class="accordion-body">
            <div class="row">
              <div class="col-md-12">
                <div class="table-responsive">
                  <table class="table table-striped table-hover">
                    <thead>
                        <tr class="bg-dark text-white">
                          <th class="text-uppercase text-xs">codigo</th>
                          <th class="text-uppercase text-xs">Nombre procedimiento</th>
                        </tr>
                    </thead>
                  </table>
                </div>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" id="btn-icon-start-headingThree">
          <a class="accordion-button collapsed" role="button" data-bs-toggle="collapse" data-bs-target="#medicamentosactivos" aria-expanded="false" aria-controls="medicamentosactivos">
              <span class="ps-1 text-dark text-bold"><i class="fas fa-pills"></i> MEDICAMENTOS</span>
          </a>
        </div>
        <div id="medicamentosactivos" class="accordion-collapse collapse" aria-labelledby="btn-icon-start-headingThree" data-bs-parent="#accordionBtnIconStartExample">
          <div class="accordion-body">
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <thead>
                  <tr class="bg-dark text-white">
                    <th class="text-uppercase text-xs">Farmaco</th>
                    <th class="text-uppercase text-xs">Cantidad</th>
                    <th class="text-uppercase text-xs">Dosis</th>
                    <th class="text-uppercase text-xs">Via</th>
                    <th class="text-uppercase text-xs">Frecuencia</th>
                    <th class="text-uppercase text-xs">Duracion</th>
                  </tr>
                </thead>
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <div class="accordion-header" id="btn-icon-start-headingThree">
          <a class="accordion-button collapsed" role="button" data-bs-toggle="collapse" data-bs-target="#examenesauxiliares" aria-expanded="false" aria-controls="examenesauxiliares">
              <span class="ps-1 text-dark text-bold"><i class="fas fa-x-ray"></i> EXAMENES AUXULIARES</span>
          </a>
        </div>
        <div id="examenesauxiliares" class="accordion-collapse collapse" aria-labelledby="btn-icon-start-headingThree" data-bs-parent="#accordionBtnIconStartExample">
          <div class="accordion-body">
            <div class="row">
              <div class="col-md-12">
                <div class="table-responsive">
                  <p-table
                    #examen
                    [rows]="3"
                    [value]="getDocumentosPacient"
                    [paginator]="true"
                    [globalFilterFields]="['documento', 'getDocumentosPacient.documento', 'apellido', 'getDocumentosPacient.apellido', 'nombre', 'getDocumentosPacient.nombre']"
                    [tableStyle]="{ 'min-width': '75rem' }"
                    [rowHover]="true"
                    dataKey="id"
                    currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} entradas"
                    [showCurrentPageReport]="true"
                  >
                  <ng-template pTemplate="caption">
                    <div class="flex align-items-center justify-content-between">
                      <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input
                          pInputText
                          type="text"
                          class="form-control"
                          (input)="examen.filterGlobal($any($event.target).value, 'contains')"
                          placeholder="Buscar..."
                        />
                      </span>
                    </div>
                  </ng-template>
                  <ng-template pTemplate="header">
                    <tr>
                      <th pSortableColumn="docuemento" class="text-xs text-white bg-default" style="width:12%">TIPO DOCUMENTO</th>
                      <th class="text-xs text-white bg-default" style="width:25%">TITULO</th>
                      <th class="text-xs text-white bg-default" style="width:10%">FECHA</th>
                      <th class="text-xs text-white bg-default">ARCHIVO</th>
                    </tr>
                  </ng-template>
                  <ng-template pTemplate="body" let-examen>
                    <tr>
                      <td class="text-xs text-uppercase">{{ examen.tp_documento }}</td>
                      <td class="text-xs text-uppercase">{{ examen.titulo }}</td>
                      <td class="text-xs text-uppercase">{{ examen.fecha }}</td>
                      <td class="text-xs text-uppercase">{{ examen.url_documento }}</td>
                    </tr>

                  </ng-template>
                 </p-table>
                </div>
              </div>
              </div>
          </div>
        </div>
      </div>
  </div>
  <!-- End Accordion -->
                   </div>
               </div>
               <div class="col-md-3">
                <div class="card card-dashed h-900">
                    <div class="card-header bg-default"><h6 class="text-white text-uppercase">consulta</h6></div>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-12">
                          <div class="d-grid gap-2">
                            <button
                              class="btn btn-danger rounded-pill"
                              data-bs-toggle="modal"
                              data-bs-target="#procesosclinicos"
                            >
                             <i class="fas fa-database"></i> Procesos Clinicos
                            </button>
                          </div>
                          <div class="d-grid gap-2">
                            <button
                              class="btn btn-primary rounded-pill"
                              data-bs-toggle="modal"
                              data-bs-target="#staticBackdrop"
                            >
                            <i class="fas fa-calendar-alt"></i> Nueva Consulta
                            </button>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <small class="text-bold mb-2">CONSULTAS AGENDADAS
                          <span class="icon icon-soft-primary">
                            <i class="fas fa-plus text-danger mx-1 "></i>
                          </span>
                        </small>

                          <div
                            class="alert alert-danger text-white"
                            role="alert"
                          >
                            <h6 class="alert-heading">{{ agendadescripcion }}</h6>
                            <hr>
                            <small>
                              <i class="fas fa-calendar"></i> {{ agendafecha }} {{ agendahora }}
                            </small>
                          </div>

                        <P>Aun no hay citas agendadas utiliza la <a class="text-danger" data-bs-toggle="modal" data-bs-target="#staticBackdrop">agenda</a>  para calendarizarla</P>
                      </div>
                      <div class="row mt-4">
                        <small class="text-bold mb-2">CONSULTAS INICIADAS</small>
                        <div
                          class="alert alert-info text-white"
                          role="alert"
                        >
                          <h6 class="alert-heading">
                            Dolor de garganta ||<small> Cancer de cabeza</small>
                          </h6>
                          <hr>
                          <ul class="list-inline">
                            <li>Amoxicilina</li>
                          </ul>
                          <small> <i class="fas fa-calendar"></i> 26/12/1993 12:30 PM</small>
                        </div>
                        <!--  -->
                        <div
                          class="alert alert-warning text-white"
                          role="alert"
                        >
                          <h6 class="alert-heading">
                            Dolor de garganta ||<small> Cancer de cabeza</small>
                          </h6>
                          <hr>
                          <ul class="list-inline">
                            <li>Amoxicilina</li>
                          </ul>
                          <small> <i class="fas fa-calendar"></i> 26/12/1993 12:30 PM</small>
                        </div>
                      </div>
                    </div>
                  </div>
               </div>
            </div>
            <!--  -->
          </div>
        </div>
      </div>
<!-- MODAL AGENDAMIENTO DE CITAS  -->
<p-dialog
header="HISTORIA CLINICA DEL PACIENTE"
[modal]="true"
[(visible)]="citas"
[style]="{ width: '75rem' }"
[breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
[maximizable]="true"
>
<form [formGroup]="historiaTipoForm">
<div class="row">
    <div class="col-md-10">
      <label>Tipo de historia clinica</label>
      <select
        class="form-control"
        (change)="habilitarMenu()"
        formControlName="tphistoria"
      >
        <option value="">SELECCIONE UNA OPCION</option>
        <option value="1">CONSULTA GENERAL</option>
        <option value="2">CONSULTA DE GINECOLOGIA</option>
      </select>
    </div>
    <div class="col-md-2">
      <label>Cons Historia</label>
      <input
        type="number"
        class="form-control"
        formControlName="consecutivo_historia"
      >
    </div>
  </div>
</form>
<hr>
<!-- CONTENIDO -->
<div class="d-flex align-items-start">
  <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
    <button
      class="nav-link active btn-primary"
      id="v-pills-home-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-home"
      type="button"
      role="tab"
      aria-controls="v-pills-home"
      aria-selected="true"
      [disabled]="antecedentes"
      [hidden]="antecedentes"
    >
      Antecedentes
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-anamnesis-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-anamnesis"
      type="button"
      role="tab"
      aria-controls="v-pills-anamnesis"
      aria-selected="true"
      [disabled]="anamnesis"
      [hidden]="anamnesis"
    >
      Anamnesis
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-profile-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-profile"
      type="button"
      role="tab"
      aria-controls="v-pills-profile"
      aria-selected="false"
      [disabled]="axamen_fisico"
      [hidden]="axamen_fisico"
    >
      Examen fisico
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-fisico2-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-fisico2"
      type="button"
      role="tab"
      aria-controls="v-pills-fisico2"
      aria-selected="false"
      [disabled]="axamen_fisico2"
      [hidden]="axamen_fisico2"
      >
      Examen fisico
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-consulta-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-consulta"
      type="button"
      role="tab"
      aria-controls="v-pills-consulta"
      aria-selected="false"
      [disabled]="consulta"
      [hidden]="consulta"
    >
      Consulta
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-disabled-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-disabled"
      type="button"
      role="tab"
      aria-controls="v-pills-disabled"
      aria-selected="false"
      [disabled]="plan_trabajo"
      [hidden]="plan_trabajo"
    >
      Plan de trabajo
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-messages-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-messages"
      type="button"
      role="tab"
      aria-controls="v-pills-messages"
      aria-selected="false"
      [disabled]="diagnostico"
      [hidden]="diagnostico"
    >
      Diagnosticos
    </button>
    <button
      class="nav-link  btn-primary"
      id="v-pills-settings-tab"
      data-bs-toggle="pill"
      data-bs-target="#v-pills-settings"
      type="button"
      role="tab"
      aria-controls="v-pills-settings"
      aria-selected="false"
      [disabled]="procedimiento"
      [hidden]="procedimiento"
    >
      Procedimientos
    </button>
  </div>
  <div class="tab-content" id="v-pills-tabContent">
    <div class="tab-pane fade" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab" tabindex="0">
      <!-- ANTECEDENTES -->
       <div class="container-fluid">
        <p class="text-white">*******************************************************************************************************************</p>
         <form [formGroup]="antecedentesForm">
          <div class="row">
            <div class="col-md-12">
              <label>FAMILIARES</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_familiares"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>PATOLOGICOS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_patologicos"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>GINECO-OBSTETRICOS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_gineco"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-6">
              <label>FUM</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_fum"
              >
            </div>
            <div class="col-md-6">
              <label>RM (RET.MENSTR)</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_rm"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-6">
              <label>FLUJO GENITAL</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_flujo"
              >
            </div>
            <div class="col-md-6">
              <label>No PAREJAS</label>
              <input
                type="number"
                class="form-control form-control-sm"
                formControlName="antecedentes_parejas"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-4">
              <label>GESTAS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_gestas"
              >
            </div>
            <div class="col-md-4">
              <label>PARTOS</label>
              <input
                type="number"
                class="form-control form-control-sm"
                formControlName="antecedentes_partos"
              >
            </div>
            <div class="col-md-4">
              <label>ABORTOS</label>
              <input
                type="number"
                class="form-control form-control-sm"
                formControlName="antecedentes_abortos"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-4">
              <label>ANTICONCEPTIVOS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_anticonceptivos"
              >
            </div>
            <div class="col-md-4">
              <label>TIPOS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_tipos"
              >
            </div>
            <div class="col-md-4">
              <label>TIEMPO</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_tiempo"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>CIRUGIA GINECOLOGICA</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_cirugia"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>OTROS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_otros"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-6">
              <label>FECHA PAP</label>
              <input
                type="date"
                class="form-control form-control-sm"
                formControlName="antecedentes_fecha"
              >
            </div>
            <div class="col-md-6">
              <label>No HIJOS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="antecedentes_hijos"
              >
            </div>
          </div>
         </form>

       </div>

    </div>
    <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab" tabindex="0">
     <!-- EXAMEN FISICO -->

     <div class="container-fluid">
      <p class="text-white">************************************************************************************************************+******</p>
      <form [formGroup]="examenForm">
      <div class="row mt-2">
      <div class="col-md-4">
        <label>PIEL Y TSCS</label>
        <input
          type="text"
          class="form-control form-control-sm"
          formControlName="examen_piel"
        >
      </div>
      <div class="col-md-4">
        <label>TIROIDES</label>
        <input
          type="text"
          class="form-control form-control-sm"
          formControlName="examen_tiroides"
        >
      </div>
      <div class="col-md-4">
        <label>MAMAS</label>
        <input
          type="text"
          class="form-control form-control-sm"
          formControlName="examen_mamas"
        >
      </div>
      </div>
      <div class="row mt-2">
        <div class="col-md-4">
          <label>A RESPIRATORIO</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_respiratorio"
          >
        </div>
        <div class="col-md-4">
          <label>A CARDIOVASCULAR</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_cardiovascular"
          >
        </div>
        <div class="col-md-4">
          <label>ABDOMEN</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_abdomen"
          >
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-md-3">
          <label>A GENITO - URINARIO</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_genito"
          >
        </div>
        <div class="col-md-3">
          <label>TACTO RECTAL</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_tacto"
          >
        </div>
        <div class="col-md-3">
          <label>LOCOMOTOR</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_locomotor"
          >
        </div>
        <div class="col-md-3">
          <label>SISTEMA NERVIOSO</label>
          <input
            type="text"
            class="form-control form-control-sm"
            formControlName="examen_sistema"
          >
        </div>
      </div>
      </form>
     </div>
    </div>
    <div class="tab-pane fade" id="v-pills-disabled" role="tabpanel" aria-labelledby="v-pills-disabled-tab" tabindex="0">
      <!-- PLAN DE TRABAJO -->
       <div class="container-fluid">
        <p class="text-white">*******************************************************************************************************************</p>
        <form [formGroup]="planForm">
          <div class="row mt-2">
            <div class="col-md-12">
              <label>EXAMEN DE AYUDA AL DX</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="plan_examen"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>PROCEDIMIENTOS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="plan_procedimiento"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>INTERCONSULTAS</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="plan_interconsulta"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>TRATAMIENTO</label>
              <div class="form-floating">
                <textarea
                  class="form-control form-control-sm"
                  formControlName="plan_tratamiento"
                  placeholder="Leave a comment here"
                  id="floatingTextarea"
                >
              </textarea>
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>REFERENCIA</label>
              <div class="form-floating">
                <textarea
                  class="form-control form-control-sm"
                  formControlName="plan_referencia"
                  placeholder="Leave a comment here"
                  id="floatingTextarea"
                >
              </textarea>
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-6">
              <label>PROXIMA CITA</label>
              <input
                type="date"
                class="form-control form-control-sm"
                formControlName="plan_cita"
              >
            </div>
            <div class="col-md-6">
              <label>FIRMA DEL MEDICO</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="plan_firma"
              >
            </div>
          </div>

        </form>
       </div>
    </div>

    <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab" tabindex="0">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            <p-table
            #diagnosticos
            [value]="getDiagnostico"
            [rows]="5"
            [paginator]="true"
            [globalFilterFields]="['nombre', 'getDiagnostico.nombre', 'categoria', 'getDiagnostico.categoria']"
            [tableStyle]="{ 'min-width': '75rem' }"
            [rowHover]="true"
            dataKey="id"
            currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} entradas"
          >
          <ng-template pTemplate="caption">
            <div class="flex align-items-center justify-content-between">
              <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input
                  pInputText
                  type="text"
                  class="form-control"
                  placeholder="Buscar..."
                />
              </span>
            </div>
          </ng-template>
          <ng-template pTemplate="header">
            <tr>
              <th class="text-xs text-white bg-default" style="width:5%"></th>
              <th class="text-xs text-white bg-default" style="width:15%">CODIGO</th>
              <th class="text-xs text-white bg-default" style="width:80%">NOMBRE DIAGNOSTICO</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-diagnosticos>
            <tr>
              <td>
                <button 
                  class="btn btn-success btn-xs"
                >
                  <i class="fas fa-check fa-xs text-white"></i>
                </button>
              </td>
              <td class="text-xs text-uppercase">{{ diagnosticos.clave }}</td>
              <td class="text-xs text-uppercase">{{ diagnosticos.descripcion }}</td>
            </tr>
          </ng-template>
         </p-table>
          </div>
          <div class="col-md-4">
            <h6 class="text-uppercase">Diagnosticos relacionados</h6>
              <p-chip 
                label= "Colera debido a vibrio cholerae o1, biotipo cholerae" 
                image="assets/img/laboratorio.png" 
                alt="Avatar image"
                [removable]="false" 
              />
          </div>
        </div>
      </div>
    </div>
    <div
      class="tab-pane fade"
      id="v-pills-settings"
      role="tabpanel"
      aria-labelledby="v-pills-settings-tab"
      tabindex="0"
    >
    <div class="container">
      <div class="row">
        <div class="col-md-8">
          <p-table
          #procedimientos
          [value]="getProcedimiento"
          [rows]="5"
          [paginator]="true"
          [globalFilterFields]="['nombre', 'getProcedimiento.nombre', 'categoria', 'getProcedimiento.categoria']"
          [tableStyle]="{ 'min-width': '75rem' }"
          [rowHover]="true"
          dataKey="id"
          currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} entradas"
        >
        <ng-template pTemplate="caption">
          <div class="flex align-items-center justify-content-between">
            <span class="p-input-icon-left">
              <i class="pi pi-search"></i>
              <input
                pInputText
                type="text"
                class="form-control"
                placeholder="Buscar..."
              />
            </span>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th class="text-xs text-white bg-default" style="width:5%"></th>
            <th class="text-xs text-white bg-default" style="width:15%">CODIGO</th>
            <th class="text-xs text-white bg-default" style="width:80%">NOMBRE PROCEDIMIENTO</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-getProcedimiento>
          <tr>
            <td>
              <button 
                class="btn btn-success btn-xs"
              >
                <i class="fas fa-check fa-xs text-white"></i>
              </button>
            </td>
            <td class="text-xs text-uppercase">{{ getProcedimiento.codigo_cpt }}</td>
            <td class="text-xs text-uppercase">{{ getProcedimiento.nombre }}</td>
          </tr>
        </ng-template>
       </p-table>
        </div>
        <div class="col-md-4">
          <h6 class="text-uppercase">Procedimientos relacionados</h6>
            <p-chip 
              label= "Colera debido a vibrio cholerae o1, biotipo cholerae" 
              image="assets/img/laboratorio.png" 
              alt="Avatar image"
              [removable]="false" 
            />
        </div>
      </div>
    </div>
    </div>
    <div class="tab-pane fade" id="v-pills-anamnesis" role="tabpanel" aria-labelledby="v-pills-anamnesis-tab" tabindex="0">
     <!-- <h2>Anamnesis</h2> -->
      <div class="container-fluid">
        <p class="text-white">************************************************************************************************************+******</p>
        <form [formGroup]="anamnesisForm" >
        <div class="row mt-2">
          <div class="col-md-12">
            <select
              class="form-select form-select-sm form-control form-control-sm"
              aria-label="Small select example"
              formControlName="anamnesis_directa"
            >
              <option value="1">DIRECTA</option>
            </select>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-4">
            <label>EMPRESA</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_empresa"
            >
          </div>
          <div class="col-md-4">
            <label>COMPA√ëIA</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_compa√±ia"
            >
          </div>
          <div class="col-md-4">
            <label>IAFA</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_iafa"
            >
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-12">
            <label>NOMBRES Y APELLIDOS DEL ACOMPA√ëANTE</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_acompa√±ante"
            >
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-6">
            <label>DNI</label>
            <input
              type="number"
              class="form-control form-control-sm"
              formControlName="anamnesis_dni"
            >
          </div>
          <div class="col-md-6">
            <label>CELULAR</label>
            <input
              type="number"
              class="form-control form-control-sm"
              formControlName="anamnesis_celular"
            >
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-12">
            <label>MOTIVO CONSULTA</label>
            <textarea
              class="form-control form-control-sm"
              formControlName="anamnesis_consulta"
            ></textarea>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-12">
            <label>TRATAMIENTO ANTERIOR</label>
            <textarea
              class="form-control form-control-sm"
              formControlName="anamnesis_tratamiento"
            ></textarea>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-12">
            <label>ENFERMEDAD ACTUAL</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_enfermedad"
            >
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-4">
            <label>TIEMPO DE ENFERMEDAD</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_tiempo"
            >
          </div>
          <div class="col-md-4">
            <label>INICIO</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_inicio"
            >
          </div>
          <div class="col-md-4">
            <label>CURSO</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_curso"
            >
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-12">
            <label>SINTOMAS</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="anamnesis_sintomas"
            >
          </div>
        </div>
      </form>
      </div>
    </div>
    <div class="tab-pane fade" id="v-pills-consulta" role="tabpanel" aria-labelledby="v-pills-consulta-tab" tabindex="0">
     <!--  <h2>consulta</h2> -->
       <div class="container-fluid">
        <p class="text-white">************************************************************************************************************+******</p>
        <form [formGroup]="consultaForm">
          <div class="row mt-2">
            <div class="col-md-12">
              <label>MOTIVO CONSULTA</label>
              <textarea
              class="form-control form-control-sm"
              formControlName="consulta_motivo"
            ></textarea>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>SIGNOS Y SINTOMAS</label>
              <textarea
              class="form-control form-control-sm"
              formControlName="consulta_sintomas"
            ></textarea>
            </div>
          </div>
        </form>
       </div>
    </div>
    <div class="tab-pane fade" id="v-pills-fisico2" role="tabpanel" aria-labelledby="v-pills-fisico2-tab" tabindex="0">
      <!--<h3>fisico</h3> -->
      <div class="container-fluid">
        <p class="text-white">************************************************************************************************************+******</p>
        <form [formGroup]="fisicoForm">
          <div class="row mt-2">
            <div class="col-md-12">
              <label>PIEL</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_piel"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>CUELLO</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_cuello"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>AP RESPIRATORIO</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_respiratorio"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>AP CARDIO VASCULAR</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_cardio"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>ABDOMEN</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_abdomen"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>CABEZA</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_cabeza"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>LOCOMOTOR</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_locomotor"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <label>SISTEMA NERVIOSO</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_sistema"
              >
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-4">
              <label>APETITO</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_apetito"
              >
            </div>
            <div class="col-md-4">
              <label>SED</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_sed"
              >
            </div>
            <div class="col-md-4">
              <label>ORINA</label>
              <input
                type="text"
                class="form-control form-control-sm"
                formControlName="fisico_orina"
              >
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
<ng-template pTemplate="footer">
  <button class="btn btn-danger btn-sm">Cancelar</button>
  <button
    class="btn btn-primary btn-sm mx-2"
    (click)="createHistoriaClinica()"
  >Guardar</button>
</ng-template>
</p-dialog>

<!--  -->
<p-dialog
  header="SUBIR ARCHIVOS"
  [modal]="true"
  [(visible)]="archivos"
  [style]="{ width: '25rem' }"
>
  <form [formGroup]="cargueDocumentosForm">
    <div class="flex align-items-center gap-3 mb-3">
      <label>Tipo de Archivo</label>
      <select
        class="form-control form-control-sm"
        formControlName="tparchivo"
      >
        <option value="">Seleccione una opcion</option>
        <option value="HF">Historial Fisico</option>
        <option value="LB">Laboratorio</option>
      </select>
    </div>
    <div class="flex align-items-center gap-3 mb-3">
      <label>Titulo</label>
      <input
        type="text"
        class="form-control form-control-sm"
        formControlName="titulo"
        autocomplete="off"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-5">
        <label>Archivo</label>
        <input
          type="file"
          class="form-control form-control-sm"
          (change)="cargueDocumento($event)"
          accept=".pdf"
        />
    </div>
    </form>
  <div class="flex justify-content-end gap-2">
    <button
      class="btn btn-primary btn-sm mx-2"
      (click)="subirArchivosPdf()"
    >
      Aceptar
    </button>
  </div>
</p-dialog>

<!-- Modal -->
<div
  class="modal fade"
  id="staticBackdrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">AGENDAMIENTO DE CITAS</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar</button>
      </div>
    </div>
  </div>
</div>
<!--  -->
<div class="modal fade" id="procesosclinicos" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">PROCESOS CLINICOS</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Aceptar</button>
      </div>
    </div>
  </div>
</div>
<!--  -->
<div [hidden]="spinner" class="overlay z-index">
  <div class="dot-wave">
    <div class="dot-wave__dot"></div>
    <div class="dot-wave__dot"></div>
    <div class="dot-wave__dot"></div>
    <div class="dot-wave__dot"></div>
  </div>
</div>
